{"ast":null,"code":"import toPairs from 'lodash/toPairs';\nconst COMPANY_ROOT = 'http://localhost:8080';\nexport const request = async (url, options) => {\n  console.log(\"request\", url);\n  const response = await fetch(url, options);\n  const data = await response.json();\n  return data;\n};\n\nconst fetchFromCompany = _ref => {\n  let {\n    token,\n    endpoint,\n    params\n  } = _ref;\n  let url = [COMPANY_ROOT, endpoint].join('/');\n\n  if (params) {\n    const paramString = toPairs(params).map(param => param.join('=')).join('&');\n    url += `?${paramString}`;\n  }\n\n  const options = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  };\n  console.log(\"API>>>\", url);\n  return request(url, options);\n};\n\nexport default fetchFromCompany;","map":{"version":3,"names":["toPairs","COMPANY_ROOT","request","url","options","console","log","response","fetch","data","json","fetchFromCompany","token","endpoint","params","join","paramString","map","param","headers","Authorization"],"sources":["/Users/rickyboard/Desktop/Fasttrack/group-final-sprint-8/client/src/services/api.js"],"sourcesContent":["import toPairs from 'lodash/toPairs'\nconst COMPANY_ROOT = 'http://localhost:8080'\n\n\nexport const request = async (url, options) => {\n  console.log(\"request\", url)\n  const response = await fetch(url, options)\n  const data = await response.json()\n    return data\n   \n  }\n\nconst fetchFromCompany = ({ token, endpoint, params }) => {\n    let url = [COMPANY_ROOT, endpoint].join('/')\n    if (params) {\n      const paramString = toPairs(params)\n        .map(param => param.join('='))\n        .join('&')\n      url += `?${paramString}`\n    }\n    const options = { headers: { Authorization: `Bearer ${token}` } }\n    console.log(\"API>>>\",url)\n    return request(url, options)\n  }\n  \n  export default fetchFromCompany"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,gBAApB;AACA,MAAMC,YAAY,GAAG,uBAArB;AAGA,OAAO,MAAMC,OAAO,GAAG,OAAOC,GAAP,EAAYC,OAAZ,KAAwB;EAC7CC,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBH,GAAvB;EACA,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAACL,GAAD,EAAMC,OAAN,CAA5B;EACA,MAAMK,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;EACE,OAAOD,IAAP;AAED,CANI;;AAQP,MAAME,gBAAgB,GAAG,QAAiC;EAAA,IAAhC;IAAEC,KAAF;IAASC,QAAT;IAAmBC;EAAnB,CAAgC;EACtD,IAAIX,GAAG,GAAG,CAACF,YAAD,EAAeY,QAAf,EAAyBE,IAAzB,CAA8B,GAA9B,CAAV;;EACA,IAAID,MAAJ,EAAY;IACV,MAAME,WAAW,GAAGhB,OAAO,CAACc,MAAD,CAAP,CACjBG,GADiB,CACbC,KAAK,IAAIA,KAAK,CAACH,IAAN,CAAW,GAAX,CADI,EAEjBA,IAFiB,CAEZ,GAFY,CAApB;IAGAZ,GAAG,IAAK,IAAGa,WAAY,EAAvB;EACD;;EACD,MAAMZ,OAAO,GAAG;IAAEe,OAAO,EAAE;MAAEC,aAAa,EAAG,UAASR,KAAM;IAAjC;EAAX,CAAhB;EACAP,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBH,GAArB;EACA,OAAOD,OAAO,CAACC,GAAD,EAAMC,OAAN,CAAd;AACD,CAXH;;AAaE,eAAeO,gBAAf"},"metadata":{},"sourceType":"module"}